# 아두이노 노트

- [IDE 설치](#IDE-설치)



## lesson 01 - 시작하기

### IDE 설치, 설정

공식 사이트에서 `linux64 ~tar.xz` 압축파일을 다운받고, 압축을 푼다.
압축푼 폴더를 jimin 즉, 사용자 디렉토리에 넣는다. 

> 사용자명 폴더에는 Desktop 같은 애들이 있다. 잘 확인하고, 여기에 폴더를 두어야함.

터미널로 압축 푼 폴더에 들어간다.
그리고 터미널에 아래 명령을 준다.

```shell
$ ./install.sh
# sudo는 절대 붙이지 않는다. 
```

그럼 설치끝.

하지만, 이렇게만 하면 아두이노에 코드를 올릴 수 없다. 
권한설정을 해줘야 한다. 

```shell
jimin@fossa:~$ ls -l /dev/ttyACM*
crw-rw---- 1 root dialout 166, 0  9월  1 01:07 /dev/ttyACM0
jimin@fossa:~$ sudo usermod -a -G dialout jimin
[sudo] jimin의 암호: 
jimin@fossa:~$ 
```

그리고 컴터 다시시작.
그럼 모든 설정 완료.

### LED 깜빡이기

코드를 업로드하기 전에는 보드를 리셋해야한다. 
보드의 빨간버튼을 누르면 된다.

```c++
void setup() {
// 처음에 한번만 실행되는 코드
}

void loop() {
// 반복되는 코드
}
```

ide에서 `Tools - port`에서 연결된 아두이노를 볼 수 있다.

```c++
void setup() {
    pinMode(13, OUTPUT); 
    // 아두이노의 13번 핀을 이용한다. 그리고 그건 OUTPUT이다.
    // 13번 핀은 보드에 기본으로 내장된 LED에 연결되어있다. 
}

void loop() {
    digitalWrite(13, HIGH);
    // HIGH: LED가 켜진다. 
    // LOW: LED가 꺼진다.
}
```

깜빡이게 하기 위해서는 `HIGH`와 `LOW`중간에 딜레이가 있어야한다. 

```c++
void setup() { 
  pinMode(13, OUTPUT);
}

void loop() {
  digitalWrite(13, HIGH);
  delay(50);
  digitalWrite(13, LOW);
  delay(50);
}
```



## lesson 02 - LED 이해하기

- 전구: 와이어에 전기가 흐르면 빨간 빛을 낸다. 더 흘려보내면 하얀 빛을 낸다.
  이건 빛을 내지만, 엄밀히 열을 낸다. 에너지 낭비가 심함. (95%가 열, 5%가 빛)

- 도체: 전자가 원자가띠-전도띠(conduction band-valence band) 사이를 자유롭게 오가면서 전도성이 큰 물질.
- 부도체: 원자가띠-전도띠가 도체처럼 겹쳐지지 않고, 틈이 크기때문에 전자가 오갈 수 없다. (전도성이 작아진다.)

### LED

- Light Emitting Diode, 빛을 내는 반도체 소자.


> 웨이퍼(wafer):  집적회로 제작을 위해 실리콘 반도체 소재를 얇게 깎아 만든 기판.
> 집적회로(integrated Circuit): 반도체로 만든 전자회로의 집합.

전자는 에너지를 가진다. 
전자는 에너지 밴드에 속해야한다.

실리콘은 전자가 잘 묶여있다. (conduction-band는 텅비고, valence-band는 꽉 차있다.)

전자는 물이 아래로 흐르듯, 낮은 밴드(Valence Band)에 속하려 한다(에너지를 방출 하고자 한다).

전기를 흘려보내면, 마치 물이 담긴 그릇을 기울이는 것처럼 밴드의 전자를 움직이게 한다. 
하지만, 실리콘은 valence band는 꽉차고, conduction band는 텅비어서, 전자가 움직일 수 없다.(=전기가 흐를 수 없다.)

이때 온도를 높이면, 운 좋은 전자 몇개가 conduction 밴드로 점프한다.
그럼, 텅 비었던 conduction밴드에는 몇 개의 전자가 생기고, 꽉 차있던 valence밴드에 몇 개의 구멍이 생기게 된다.
이런 상태에서 전기를 흘려서 기울이게 되면, 전자가 드디어 움직인다.(=전기가 흐른다.)

이런 순수한 물질인 실리콘에 불순물 원자(donor)를 넣는다. (이 불순물 원자는 여분의 전자를 가지고 있다.)
이 원자들은 conduction밴드 근처에 위치하며 여분의 전자를 conduction밴드로 donate 한다.    
그래서 conduction밴드는 쉽게 전자를 얻게 된다. (이동할 수 있는 전자를 가지게 된다.) 
valence밴드는 여전히 꽉차서 전자가 못 움직인다. 

이러한 conductor(전도체)를 n타입이라고 한다. n은 전자를 뜻한다.
**n타입에서 전도는 전자에 의해 일어난다.**

반대로, 여분의 전자가 아닌, 부족한 전자를 가진 불순물(acceptor)을 valence밴드 근처에 위치시켜보자. 
그럼 꽉찬 valence밴드에 있는 전자가 불순물 원자로 이동하게 되면서 밴드에 구멍이 생기게 된다. 

**이것이 p타입이다. 이 물질에서 전도는 구멍(홀)을 통해 일어난다.** 

n-타입 물질과 p-타입 물질을 접합한다. 
두 물질에는 에너지 밴드차이가 있어서 낮은 준위의 n타입 conduction밴드의 여분의 전자는 높은 준위의 텅빈 p타입의 conduction밴드로 이동할 수 없고, 
p-타입의 구멍은 n-타입으로 이동할 수 없다.
쉽게 말해, 에너지 베리어에 막혀서 전자와 구멍이 n-p물질 사이를 이동할 수 없다. 
이때 전압을 걸어준다. (-를 n에, +를 p에)

> 아마도, -는 전자를 공급, +는 전자를 빼가는 역할을 하는 듯, 그래서 전자가 남는 n-타입에 전자는 더 공급하고, 구멍이 몇개 있는 p-타입에는 구멍을 더 만들고..
> 그래서 에너지 준위를 맞추는 것 같다. 

아무튼, 그렇게 에너지 밴드 차이를 낮추게 되고, 전자와 구멍이 이동할 수 있게 된다. 
n-타입의 여분의 전자가 p-타입의 conduction밴드로 이동하고, 그 전자는 다시 valence밴드로 내려오게 된다. 
이때 전자는 에너지를 뿜는데, 이 과정에서 나오는 게 photon(광자)이다.

전압을 더 높이면, 에너지 베리어가 더 낮아지면서 전자와 구멍이 더 많이 이동을 하고, 광자가 더 많이 뿜어져나오면서 더 밝아진다. 

그리고 이때 나오는 빛의 색은 재결합이 일어날때 전자가 이동한 밴드 갭의 크키가 결정한다. 
갭이 크면 더 큰 에너지를 가진 빛(자외선) 이 나오고, 갭이 작으면 에너지가 작은 빛(적외선) 이 나온다.
따라서 원하는 빛이 있다면, 그 만큼의 밴드갭을 가진 물질을 만들면 된다.  

이것이 LED가 작동하는 방식이다. 

근데 반대로 -를 p에, +를 n에 연결하게 되면, 에너지 베리어를 높이게 된다. 
그럼 전자나 구멍은 이동을 못한다.

이게 다이오드가 한 방향으로 전기를 흘리는 방법이다. 
제대로 연결해야 전기가 흐른다. 

하나더.
전압과 전류는 비례한다. 
그 이유는 전압을 높이면, 에너지 베리어가 낮아지게 되고 그래서 전자나 구멍이 더 잘 이동하게 되고, 
이걸 전류량이 많아진다. 

하지만, 다이오드에서는 전압이 양의 방향일 때(제대로 연결했을 때는) 그에 비례해서 전류도 높아지지만, 
음의 값일 때 전류는 0 이 된다. 
그리고 다이오드의 전압에 대해 전류는 제곱함수 그래프를 그린다. (전압이 높아질 수록, 흐르는 전류도 빠르게 커진다는 뜻.)
그래서 높은 전압에 다이오드를 다이렉트로 연결하면 다이오드가 탈 수 있다.  

